local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/jensonhirst/Orion/main/source')))()

local Window = OrionLib:MakeWindow({Name = "Testing", HidePremium = false, SaveConfig = true, ConfigFolder = "OrionTest"})

local Tab = Window:MakeTab({
    Name = "Auto",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

local Collect = false

Tab:AddToggle({
    Name = "AutoCollect",
    Default = false,
    Callback = function(Value)
        Collect = Value
        
        if Collect then
            task.spawn(function()
                while Collect do
                    local collectIDs = {
                        "1", "2", "3", "4", "5",
                        "6", "7", "8", "9", "10"
                    }
                    
                    local remotesFolder = game:GetService("ReplicatedStorage")
                        :WaitForChild("SharedModules")
                        :WaitForChild("Network")
                        :WaitForChild("Remotes")
                    
                    local collectRemote = remotesFolder:WaitForChild("Collect Earnings")
                    
                    for _, id in ipairs(collectIDs) do
                        collectRemote:FireServer(id)
                        task.wait(0.4)
                    end
                    
                    task.wait(5)
                end
            end)
        end
    end
})

local UpgFriend = false

Tab:AddToggle({
    Name = "Auto Friend Upgrade",
    Default = false,
    Callback = function(Value)
        UpgFriend = Value
        
        if UpgFriend then
            task.spawn(function()
                while UpgFriend do
                    local friendIDs = {
                        "1", "2", "3", "4", "5",
                        "6", "7", "8", "9", "10"
                    }
                    
                    local remotesFolder = game:GetService("ReplicatedStorage")
                        :WaitForChild("SharedModules")
                        :WaitForChild("Network")
                        :WaitForChild("Remotes")
                    
                    local upgradeRemote = remotesFolder:WaitForChild("Upgrade Friend")
                    
                    for _, id in ipairs(friendIDs) do
                        upgradeRemote:FireServer(id)
                        task.wait(0.5)
                    end
                    
                    task.wait(6)  -- Pause after full cycle to avoid spam/kicks
                end
            end)
        end
    end
})

local UpgSpeed = false

Tab:AddToggle({
    Name = "Auto Speed Upgrade",
    Default = false,
    Callback = function(Value)
        UpgSpeed = Value
        
        if UpgSpeed then
            task.spawn(function()
                while UpgSpeed do
                    local speedLevels = {1, 2, 3, 4}  -- 1 to 4 as numbers (no quotes)
                    
                    local remotesFolder = game:GetService("ReplicatedStorage")
                        :WaitForChild("SharedModules")
                        :WaitForChild("Network")
                        :WaitForChild("Remotes")
                    
                    local upgradeRemote = remotesFolder:WaitForChild("Buy Speed Upgrade")
                    
                    for _, level in ipairs(speedLevels) do
                        upgradeRemote:FireServer(level)
                        task.wait(0.5)
                    end
                    
                    task.wait(6)  -- Pause after trying all 4 before next cycle
                end
            end)
        end
    end
})

local Carry = false

Tab:AddToggle({
    Name = "Auto Carry Upgrade",
    Default = false,
    Callback = function(Value)
        Carry = Value -- Update based on toggle state

        if Carry then
            task.spawn(function()
                while Carry do
                    game:GetService("ReplicatedStorage"):WaitForChild("SharedModules"):WaitForChild("Network"):WaitForChild("Remotes"):WaitForChild("Upgrade Carry Limit"):FireServer()
                    task.wait(0.5) -- Short delay to avoid overwhelming the server
                end
            end)
        end
    end
})

local Rebirth = false

Tab:AddToggle({
    Name = "Auto Rebirth",
    Default = false,
    Callback = function(Value)
        Rebirth = Value -- Update based on toggle state

        if Rebirth then
            task.spawn(function()
                while Rebirth do
                    game:GetService("ReplicatedStorage"):WaitForChild("SharedModules"):WaitForChild("Network"):WaitForChild("Remotes"):WaitForChild("Rebirth"):FireServer()
                    task.wait(0.5) -- Short delay to avoid overwhelming the server
                end
            end)
        end
    end
})

local FriendsFolder = workspace:WaitForChild("Live"):WaitForChild("Friends")
local player = game.Players.LocalPlayer

-- Config
local HOLD_TIME = 0.75
local HOLD_BUFFER = 0.18          -- total hold ~0.93s ‚Üí safe
local CHECK_INTERVAL = 0.2        -- how often to scan (fast but not laggy)
local DISTANCE_EXTRA = 2          -- give a little buffer beyond MaxActivationDistance

getgenv().AutoStealOn = false

-- Find all valid StealPrompts
local function GetAllPrompts()
    local prompts = {}
    for _, friend in pairs(FriendsFolder:GetChildren()) do
        local root = friend:FindFirstChild("RootPart")
        if root then
            local prompt = root:FindFirstChild("StealPrompt")
            if prompt and prompt:IsA("ProximityPrompt") then
                table.insert(prompts, {
                    Prompt = prompt,
                    RootPart = root,
                    FriendName = friend.Name,
                    MaxDist = prompt.MaxActivationDistance or 10
                })
                print("Loaded prompt: " .. friend.Name .. " (max dist: " .. (prompt.MaxActivationDistance or "unknown") .. ")")
            end
        end
    end
    print("Found " .. #prompts .. " StealPrompts")
    return prompts
end

local allPrompts = GetAllPrompts()

-- Try to steal if close enough
local function AttemptSteal(entry)
    local character = player.Character
    if not character then return false end
    
    local hrp = character:FindFirstChild("HumanoidRootPart")
    if not hrp then return false end
    
    local prompt = entry.Prompt
    if not prompt or not prompt:IsDescendantOf(workspace) or not prompt.Enabled then
        return false
    end
    
    local dist = (hrp.Position - entry.RootPart.Position).Magnitude
    local maxAllowed = entry.MaxDist + DISTANCE_EXTRA
    
    if dist > maxAllowed then
        -- Optional: uncomment to spam console when close
        -- print("Too far from " .. entry.FriendName .. " (" .. math.floor(dist) .. " studs)")
        return false
    end
    
    print("CLOSE ENOUGH ‚Üí Stealing " .. entry.FriendName .. " (dist: " .. math.floor(dist) .. ")")
    
    -- Hold simulation (most reliable for hold prompts)
    prompt:InputHoldBegin()
    task.wait(HOLD_TIME + HOLD_BUFFER)
    prompt:InputHoldEnd()
    
    -- Extra instant trigger (covers games that prefer this)
    task.wait(0.05)
    fireproximityprompt(prompt)
    
    return true
end

-- Main loop
spawn(function()
    while true do
        task.wait(CHECK_INTERVAL)
        
        if not getgenv().AutoStealOn then
            continue
        end
        
        local stolen = 0
        for _, entry in ipairs(allPrompts) do
            if AttemptSteal(entry) then
                stolen = stolen + 1
            end
        end
        
        if stolen > 0 then
            print("Stole from " .. stolen .. " blocks this cycle")
        end
    end
end)

-- UI Toggle (add to your Tab / library)
Tab:AddToggle({
    Name = "Auto Steal (Walk Close Only)",
    Default = false,
    Callback = function(enabled)
        getgenv().AutoStealOn = enabled
        print("Auto Steal " .. (enabled and "ENABLED ‚Äì walk near blocks!" or "DISABLED"))
    end
})

Tab:AddButton({
    Name = "Refresh Prompt List",
    Callback = function()
        allPrompts = GetAllPrompts()
    end
})

print("Walk-to-steal script loaded ‚Äì toggle on, get close (within ~10 studs), and it should grab them!")

local friendsFolder = workspace.Live.Friends
local player = game.Players.LocalPlayer

-- Dynamically get valid friend names (only BaseParts or Models with PrimaryPart)
local options = {}
for _, obj in pairs(friendsFolder:GetChildren()) do
    if obj:IsA("BasePart") or (obj:IsA("Model") and obj.PrimaryPart) then
        table.insert(options, obj.Name)
    end
end
table.sort(options)  -- Alphabetize for easy finding

-- Create the dropdown
Tab:AddDropdown({
    Name = "Teleport to Friend",
    Default = options[1] or "No Friends",
    Options = options,
    Callback = function(Value)
        local targetObj = friendsFolder:FindFirstChild(Value)
        if targetObj then
            local targetCFrame
            if targetObj:IsA("BasePart") then
                targetCFrame = targetObj.CFrame
            elseif targetObj:IsA("Model") and targetObj.PrimaryPart then
                targetCFrame = targetObj.PrimaryPart.CFrame
            end
            
            if targetCFrame then
                -- Safely get character (handles respawn/death)
                local character = player.Character
                if not character then
                    character = player.CharacterAdded:Wait()
                end
                local root = character:WaitForChild("HumanoidRootPart")
                
                root.CFrame = targetCFrame
                print("üßç Teleported to: " .. Value)
            else
                print("‚ùå No valid CFrame for: " .. Value)
            end
        else
            print("‚ùå Friend not found: " .. Value)
        end
    end
})

print("Dropdown added! Found " .. #options .. " teleportable friends")

-- NoClip Toggle
local NoClip = false
local function toggleNoClip(state)
    NoClip = state
    
    if not NoClip then
        -- Turn off: restore collision
        local char = game.Players.LocalPlayer.Character
        if char then
            for _, part in pairs(char:GetDescendants()) do
                if part:IsA("BasePart") or part:IsA("MeshPart") then
                    part.CanCollide = true
                end
            end
        end
        return
    end
    
    -- NoClip ON ‚Üí main loop
    task.spawn(function()
        while NoClip do
            local char = game.Players.LocalPlayer.Character
            if not char then
                task.wait(0.4)
                continue
            end
            
            for _, part in pairs(char:GetDescendants()) do
                if part:IsA("BasePart") or part:IsA("MeshPart") then
                    if part.CanCollide ~= false then
                        part.CanCollide = false
                    end
                end
            end
            
            task.wait(0.25) -- refresh rate (lower = smoother but more cpu)
        end
    end)
end

Tab:AddToggle({
    Name = "NoClip (FREE VIP ZONE)",
    Default = false,
    Callback = function(Value)
        toggleNoClip(Value)
        print("NoClip " .. (Value and "ENABLED" or "DISABLED"))
    end
})

--loadstring(game:HttpGet("https://raw.githubusercontent.com/S1n-script/Biydgygd/refs/heads/main/brain"))()
