local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "HM HUB",
   Icon = 0, -- Icon in Topbar. Can use Lucide Icons (string) or Roblox Image (number). 0 to use no icon (default).
   LoadingTitle = "Hollow Moon Scripts",
   LoadingSubtitle = "By The Hollows",
   ShowText = "HM HUB", -- for mobile users to unhide rayfield, change if you'd like
   Theme = "Default", -- Check https://docs.sirius.menu/rayfield/configuration/themes

   ToggleUIKeybind = "K", -- The keybind to toggle the UI visibility (string like "K" or Enum.KeyCode)

   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false, -- Prevents Rayfield from warning when the script has a version mismatch with the interface

   ConfigurationSaving = {
      Enabled = true,
      FolderName = nil, -- Create a custom folder for your hub/game
      FileName = "Big Hub"
   },

   Discord = {
      Enabled = false, -- Prompt the user to join your Discord server if their executor supports it
      Invite = "noinvitelink", -- The Discord invite code, do not include discord.gg/. E.g. discord.gg/ ABCD would be ABCD
      RememberJoins = true -- Set this to false to make them join the discord every time they load it up
   },

   KeySystem = false, -- Set this to true to use our key system
   KeySettings = {
      Title = "Untitled",
      Subtitle = "Key System",
      Note = "No method of obtaining the key is provided", -- Use this to tell the user how to get a key
      FileName = "Key", -- It is recommended to use something unique as other scripts using Rayfield may overwrite your key file
      SaveKey = true, -- The user's key will be saved, but if you change the key, they will be unable to use your script
      GrabKeyFromSite = false, -- If this is true, set Key below to the RAW site you would like Rayfield to get the key from
      Key = {"Hello"} -- List of keys that will be accepted by the system, can be RAW file links (pastebin, github etc) or simple strings ("hello","key22")
   }
})

local Tab = Window:CreateTab("Auto Features", 4483362458) -- Title, Image

local autoCollect = false

Tab:CreateToggle({
    Name = "(Collect Earnings)",
    CurrentValue = false,
    Flag = "AutoCollectToggle",
    Callback = function(Value)
        autoCollect = Value
        
        if Value then
            Rayfield:Notify({
                Title = "Auto Collect",
                Content = "Started collecting earnings (IDs 1–50)...",
                Duration = 4,
                Image = "play"
            })
            
            task.spawn(function()
                while autoCollect do
                    local success, err = pcall(function()
                        -- List of plot/tycoon IDs you want to collect from
                        local collectIDs = {
                            "1","2","3","4","5","6","7","8","9","10",
                            "11","12","13","14","15","16","17","18","19","20",
                            "21","22","23","24","25","26","27","28","29","30",
                            "31","32","33","34","35","36","37","38","39","40",
                            "41","42","43","44","45","46","47","48","49","50",
                        }

                        -- Most common remote format for tycoon/ plot games:
                        -- Remote: RF/Plot.PlotAction or similar RemoteFunction
                        local remote = game:GetService("ReplicatedStorage")
                            :WaitForChild("Packages")
                            :WaitForChild("Net")
                            :WaitForChild("RF/Plot.PlotAction")

                        for _, id in ipairs(collectIDs) do
                            if not autoCollect then break end  -- stop faster when toggled off

                            local args = {
                                "Collect Money",                     -- action name
                                "{0da2e0d8-522a-4907-8aba-3d0325671b85}", -- probably plot GUID / owner key
                                id                                   -- plot number / dropper id
                            }

                            local ok, result = pcall(function()
                                return remote:InvokeServer(unpack(args))
                            end)

                            if not ok then
                                warn("Collect failed for ID " .. id .. ": " .. tostring(result))
                            end

                            task.wait(0.08)  -- ← very important: prevents kick / rate-limit / error spam
                        end
                    end)

                    if not success then
                        warn("Auto-collect loop error: " .. tostring(err))
                    end

                    task.wait(0.4)  -- delay between full cycles (adjust 0.2–1 sec)
                end
                
                -- Optional: notify when stopped
                if not autoCollect then
                    Rayfield:Notify({
                        Title = "Auto Collect",
                        Content = "Stopped collecting.",
                        Duration = 3,
                        Image = "pause"
                    })
                end
            end)
        end
    end,
})

